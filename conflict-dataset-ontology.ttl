@prefix :        <http://example.org/conflict-ontology#> .
@prefix owl:     <http://www.w3.org/2002/07/owl#> .
@prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:     <http://www.w3.org/2001/XMLSchema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix skos:    <http://www.w3.org/2004/02/skos/core#> .

#################################################################
# Ontology header
#################################################################

:ConflictOntology
  a owl:Ontology ;
  dcterms:title "Conflict game ontology"@en ;
  dcterms:description "Data-driven ontology for representing conflict game datasets with participants, games, rounds, interactions, decisions, and country context."@en ;
  owl:versionInfo "1.0.0"@en .

#################################################################
# CLASSES
#################################################################

:Dataset a owl:Class ;
  rdfs:label "Dataset"@en ;
  rdfs:comment "A dataset release or version. Used for provenance and traceability when multiple datasets are represented."@en .

:Game a owl:Class ;
  rdfs:label "Game"@en ;
  rdfs:comment "A conflict game in which participants take part. A game contains multiple rounds."@en .

:Round a owl:Class ;
  rdfs:label "Round"@en ;
  rdfs:comment "A single round within a game. Each round contains one interaction context and one decision by the focal participant."@en .

:Interaction a owl:Class ;
  rdfs:label "Interaction"@en ;
  rdfs:comment "Interaction context between a focal participant and an opponent in a round. In the dataset, the opponent is only observed through the opponent's country."@en .

:Decision a owl:Class ;
  rdfs:label "Decision"@en ;
  rdfs:comment "A decision event representing the participant's investment choice in a given round."@en .

:Participant a owl:Class ;
  rdfs:label "Participant"@en ;
  rdfs:comment "A human subject in the dataset. Participant attributes correspond to i_* variables."@en .

:Country a owl:Class ;
  rdfs:label "Country"@en ;
  rdfs:comment "A country identified by ISO3 code. Country attributes correspond to c_* variables."@en .

#################################################################
# OBJECT PROPERTIES (LINKS BETWEEN ENTITIES)
#################################################################

:inDataset a owl:ObjectProperty ;
  rdfs:label "in dataset"@en ;
  rdfs:comment "Links any instance (participant, game, round, decision, etc.) to the dataset it belongs to."@en ;
  rdfs:domain owl:Thing ;
  rdfs:range :Dataset .

:participatesInGame a owl:ObjectProperty ;
  rdfs:label "participates in game"@en ;
  rdfs:comment "Links a participant to a game in which they take part."@en ;
  rdfs:domain :Participant ;
  rdfs:range :Game .

:hasRound a owl:ObjectProperty ;
  rdfs:label "has round"@en ;
  rdfs:comment "Links a game to one of its rounds."@en ;
  rdfs:domain :Game ;
  rdfs:range :Round .

:hasInteraction a owl:ObjectProperty ;
  rdfs:label "has interaction"@en ;
  rdfs:comment "Links a round to its interaction context (participant vs opponent context)."@en ;
  rdfs:domain :Round ;
  rdfs:range :Interaction .

:hasDecision a owl:ObjectProperty ;
  rdfs:label "has decision"@en ;
  rdfs:comment "Links a round to the decision made in that round."@en ;
  rdfs:domain :Round ;
  rdfs:range :Decision .

:madeByParticipant a owl:ObjectProperty ;
  rdfs:label "made by participant"@en ;
  rdfs:comment "Links a decision to the participant who made it."@en ;
  rdfs:domain :Decision ;
  rdfs:range :Participant .

:hasHomeCountry a owl:ObjectProperty ;
  rdfs:label "has home country"@en ;
  rdfs:comment "Links a participant to their home country (ISO3 code in the dataset)."@en ;
  rdfs:domain :Participant ;
  rdfs:range :Country .

:hasOpponentCountry a owl:ObjectProperty ;
  rdfs:label "has opponent country"@en ;
  rdfs:comment "Links an interaction to the opponent's country (ISO3 code in the dataset)."@en ;
  rdfs:domain :Interaction ;
  rdfs:range :Country .

#################################################################
# OBJECT PROPERTIES TO SKOS CONCEPTS (CATEGORICAL VARIABLES)
#################################################################

:hasRoleConcept a owl:ObjectProperty ;
  rdfs:label "has role concept"@en ;
  rdfs:comment "Categorical decision role (Attacker or Defender). Dataset variable: d_att_def_within."@en ;
  rdfs:domain :Decision ;
  rdfs:range skos:Concept .

:hasGroupRelationConcept a owl:ObjectProperty ;
  rdfs:label "has group relation concept"@en ;
  rdfs:comment "Categorical relation between participant and opponent (Ingroup / Outgroup / Stranger). Dataset variable: d_Ingroup_Outgroup_Stranger."@en ;
  rdfs:domain :Interaction ;
  rdfs:range skos:Concept .

:hasGenerosityGps1CategoryConcept a owl:ObjectProperty ;
  rdfs:label "has generosity GPS1 category concept"@en ;
  rdfs:comment "Categorical version of i_Generosity_gps_1. Dataset variable: i_Generosity_gps_1_cat (Low/Medium/High)."@en ;
  rdfs:domain :Participant ;
  rdfs:range skos:Concept .

:hasGenerosityGps2CategoryConcept a owl:ObjectProperty ;
  rdfs:label "has generosity GPS2 category concept"@en ;
  rdfs:comment "Categorical version of i_Generosity_gps2. Dataset variable: i_Generosity_gps2_cat (Low/Medium/High)."@en ;
  rdfs:domain :Participant ;
  rdfs:range skos:Concept .

:hasIdentityCategoryConcept a owl:ObjectProperty ;
  rdfs:label "has identity category concept"@en ;
  rdfs:comment "Categorical version of i_Identity2. Dataset variable: i_Identity_cat (Low/Medium/High)."@en ;
  rdfs:domain :Participant ;
  rdfs:range skos:Concept .

#################################################################
# DATATYPE PROPERTIES (ONE-TO-ONE WITH DATASET VARIABLES)
#################################################################

############################
# i_id (Participant identifier)
############################

:i_id a owl:DatatypeProperty ;
  rdfs:label "i_id"@en ;
  rdfs:comment "Subject identifier. Unique per dataset."@en ;
  rdfs:domain :Participant ;
  rdfs:range xsd:string .

############################
# i_* (Individual-level variables)
############################

:i_age a owl:DatatypeProperty ;
  rdfs:label "i_age"@en ;
  rdfs:comment "Age of the participant."@en ;
  rdfs:domain :Participant ;
  rdfs:range xsd:integer .

:i_Gender a owl:DatatypeProperty ;
  rdfs:label "i_Gender"@en ;
  rdfs:comment "Gender of the participant (as recorded in the dataset)."@en ;
  rdfs:domain :Participant ;
  rdfs:range xsd:string .

:i_Generosity_gps_1 a owl:DatatypeProperty ;
  rdfs:label "i_Generosity_gps_1"@en ;
  rdfs:comment "Generosity score of the participant (GPS item 1)."@en ;
  rdfs:domain :Participant ;
  rdfs:range xsd:decimal .

:i_Generosity_gps2 a owl:DatatypeProperty ;
  rdfs:label "i_Generosity_gps2"@en ;
  rdfs:comment "Generosity score of the participant (GPS item 2)."@en ;
  rdfs:domain :Participant ;
  rdfs:range xsd:decimal .

:i_Identity2 a owl:DatatypeProperty ;
  rdfs:label "i_Identity2"@en ;
  rdfs:comment "National identification score: how much the participant identifies with their own nation."@en ;
  rdfs:domain :Participant ;
  rdfs:range xsd:decimal .

############################
# i_*_z (Standardized individual-level variables)
############################

:i_age_z a owl:DatatypeProperty ;
  rdfs:label "i_age_z"@en ;
  rdfs:comment "Age standardized (z-score)."@en ;
  rdfs:domain :Participant ;
  rdfs:range xsd:decimal .

:i_Generosity_gps_1_z a owl:DatatypeProperty ;
  rdfs:label "i_Generosity_gps_1_z"@en ;
  rdfs:comment "Generosity GPS item 1 standardized (z-score)."@en ;
  rdfs:domain :Participant ;
  rdfs:range xsd:decimal .

:i_Generosity_gps2_z a owl:DatatypeProperty ;
  rdfs:label "i_Generosity_gps2_z"@en ;
  rdfs:comment "Generosity GPS item 2 standardized (z-score)."@en ;
  rdfs:domain :Participant ;
  rdfs:range xsd:decimal .

:i_Identity2_z a owl:DatatypeProperty ;
  rdfs:label "i_Identity2_z"@en ;
  rdfs:comment "National identification standardized (z-score)."@en ;
  rdfs:domain :Participant ;
  rdfs:range xsd:decimal .

############################
# c_* (Country-level variables)
############################

:c_countryiso3 a owl:DatatypeProperty ;
  rdfs:label "c_countryiso3"@en ;
  rdfs:comment "Country ISO3 code of the participant."@en ;
  rdfs:domain :Country ;
  rdfs:range xsd:string .

:c_GDP2019 a owl:DatatypeProperty ;
  rdfs:label "c_GDP2019"@en ;
  rdfs:comment "Gross domestic product per capita (2019)."@en ;
  rdfs:domain :Country ;
  rdfs:range xsd:decimal .

:c_GINI_index_World_Bank_estimate a owl:DatatypeProperty ;
  rdfs:label "c_GINI_index_World_Bank_estimate"@en ;
  rdfs:comment "GINI index (World Bank estimate)."@en ;
  rdfs:domain :Country ;
  rdfs:range xsd:decimal .

############################
# c_*_z (Standardized country-level variables)
############################

:c_GDP2019_z a owl:DatatypeProperty ;
  rdfs:label "c_GDP2019_z"@en ;
  rdfs:comment "Gross domestic product per capita (2019) standardized (z-score)."@en ;
  rdfs:domain :Country ;
  rdfs:range xsd:decimal .

:c_GINI_index_z a owl:DatatypeProperty ;
  rdfs:label "c_GINI_index_z"@en ;
  rdfs:comment "GINI index standardized (z-score)."@en ;
  rdfs:domain :Country ;
  rdfs:range xsd:decimal .

############################
# d_* (Decision/Interaction-level variables)
############################

:d_countriesT_iso3 a owl:DatatypeProperty ;
  rdfs:label "d_countriesT_iso3"@en ;
  rdfs:comment "Country ISO3 code of the opponent."@en ;
  rdfs:domain :Country ;
  rdfs:range xsd:string .

:d_investment a owl:DatatypeProperty ;
  rdfs:label "d_investment"@en ;
  rdfs:comment "Conflict decision: investment amount (absolute)."@en ;
  rdfs:domain :Decision ;
  rdfs:range xsd:decimal .

:d_investment_pct a owl:DatatypeProperty ;
  rdfs:label "d_investment_pct"@en ;
  rdfs:comment "Conflict decision: investment expressed in percentage (main outcome variable)."@en ;
  rdfs:domain :Decision ;
  rdfs:range xsd:decimal .

#################################################################
# DATA-ALIGNED MINIMAL CONSTRAINTS
#################################################################

:Participant rdfs:subClassOf [
  a owl:Restriction ;
  owl:onProperty :hasHomeCountry ;
  owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
  owl:onClass :Country
] .

:Decision rdfs:subClassOf [
  a owl:Restriction ;
  owl:onProperty :madeByParticipant ;
  owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
  owl:onClass :Participant
] .

:Decision rdfs:subClassOf [
  a owl:Restriction ;
  owl:onProperty :hasRoleConcept ;
  owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
  owl:onClass skos:Concept
] .

:Interaction rdfs:subClassOf [
  a owl:Restriction ;
  owl:onProperty :hasOpponentCountry ;
  owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
  owl:onClass :Country
] .

:Interaction rdfs:subClassOf [
  a owl:Restriction ;
  owl:onProperty :hasGroupRelationConcept ;
  owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
  owl:onClass skos:Concept
] .
